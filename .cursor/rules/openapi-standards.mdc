---
description:
globs:
alwaysApply: false
---
# OpenAPI ìŠ¤í™ ì‘ì„± í‘œì¤€

## ğŸ“‹ OpenAPI 3.0 ìŠ¤í™ ì¤€ìˆ˜ ê·œì¹™

### ì‘ë‹µ í—¤ë” ì •ì˜ ìœ„ì¹˜
**âŒ ì˜ëª»ëœ ë°©ì‹** (content ì•ˆì— headers ì •ì˜):
```yaml
429:
  description: Rate limit exceeded
  content:
    application/json:
      schema: ...
      headers:  # âŒ ì˜ëª»ëœ ìœ„ì¹˜
        X-RateLimit-Limit: ...
```

**âœ… ì˜¬ë°”ë¥¸ ë°©ì‹** (responses ë ˆë²¨ì— headers ì •ì˜):
```yaml
429:
  description: Rate limit exceeded
  headers:  # âœ… ì˜¬ë°”ë¥¸ ìœ„ì¹˜
    X-RateLimit-Limit:
      schema:
        type: string
        example: "100"
      description: Rate limit per hour
  content:
    application/json:
      schema: ...
```

### ì£¼ìš” ë¼ìš°íŠ¸ íŒŒì¼
- [recommendationRoutes.ts](mdc:backend/src/routes/recommendationRoutes.ts) - ì¶”ì²œ API ìŠ¤í™
- [reviewRoutes.ts](mdc:backend/src/routes/reviewRoutes.ts) - íšŒê³  API ìŠ¤í™  
- [dataRoutes.ts](mdc:backend/src/routes/dataRoutes.ts) - ë°ì´í„° API ìŠ¤í™

### JSDoc ì£¼ì„ ì‘ì„± ê·œì¹™
1. **@swagger** íƒœê·¸ë¡œ ì‹œì‘
2. **ì‘ë‹µ í—¤ë”**ëŠ” `responses.[status].headers`ì— ì§ì ‘ ì •ì˜
3. **ìŠ¤í‚¤ë§ˆ ì°¸ì¡°**ëŠ” `$ref: '#/components/schemas/...'` ì‚¬ìš©
4. **ì˜ˆì‹œ ê°’**ì€ ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°ë¡œ ì‘ì„±

### ê³µí†µ ì‘ë‹µ íŒ¨í„´
```yaml
200:
  description: ì„±ê³µ
  content:
    application/json:
      schema:
        type: object
        properties:
          success: { type: boolean, example: true }
          data: { type: object }
          message: { type: string }
          timestamp: { type: string, format: date-time }

400:
  description: ì˜ëª»ëœ ìš”ì²­
  content:
    application/json:
      schema:
        $ref: '#/components/schemas/ErrorResponse'

429:
  description: ìš”ì²­ í•œë„ ì´ˆê³¼
  headers:
    X-RateLimit-Limit: { schema: { type: string } }
    X-RateLimit-Remaining: { schema: { type: string } }
    X-RateLimit-Reset: { schema: { type: string, format: date-time } }
  content:
    application/json:
      schema:
        $ref: '#/components/schemas/ErrorResponse'
```
